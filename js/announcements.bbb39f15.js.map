{"version":3,"sources":["webpack:///./src/announcements/pages/announcements.vue?5b8f","webpack:///src/announcements/pages/announcements.vue","webpack:///./src/announcements/pages/announcements.vue?0ed6","webpack:///./src/announcements/pages/announcements.vue","webpack:///./src/announcements/services/announcements.service.js","webpack:///./src/services/auth-header.js","webpack:///./src/core/http-common.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","model","value","callback","$$v","valid","expression","rules","title","description","on","createNewAnnouncement","_l","announcement","key","id","_s","$event","deleteAnnouncement","scopedSlots","_u","fn","_b","snackbar","text","staticRenderFns","name","data","color","user","announcements","directorId","created","methods","getDisplayAnnouncement","refreshList","AnnouncementsService","then","console","catch","reset","component","VBtn","VCard","VCardActions","VCardTitle","VCol","VContainer","VForm","VIcon","VRow","VSnackbar","VTextField","http","get","endpoint","createAnnouncementDto","post","delete","authHeader","JSON","parse","localStorage","getItem","token","log","axios","create","baseURL","headers"],"mappings":"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","file":"js/announcements.bbb39f15.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"announcements\"},[_c('v-container',{staticClass:\"mt-4\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Announcements for teachers\")])]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"px-3 pb-1 pt-4\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{staticClass:\"pb-2\",attrs:{\"hide-details\":\"auto\",\"rules\":_vm.rules,\"label\":\"Title\",\"placeholder\":\"Title announcement input\",\"dense\":\"\",\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-text-field',{staticClass:\"pb-1\",attrs:{\"hide-details\":\"auto\",\"rules\":_vm.rules,\"label\":\"Description\",\"placeholder\":\"Description announcement input\",\"dense\":\"\",\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold pa-3\",attrs:{\"outlined\":\"\",\"rounded\":\"\",\"color\":\"indigo accent-4\"},on:{\"click\":_vm.createNewAnnouncement}},[_vm._v(\"Submit\")])],1)],1)],1)],1),_c('v-row',{staticClass:\"mt-8\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Announcements confirmed\")])]),_c('v-col',{attrs:{\"cols\":\"12\"}},_vm._l((_vm.announcements),function(announcement){return _c('div',{key:announcement.id},[_c('v-card',{staticClass:\"mx-auto my-3 mx-2\",attrs:{\"elevation\":\"1\"}},[_c('v-card-title',[_c('v-icon',{staticClass:\"mr-3\"},[_vm._v(\"mdi-human-queue\")]),_vm._v(\" \"+_vm._s(announcement.title))],1),_c('v-container',{staticClass:\"d-flex justify-space-between pt-1 pb-3 px-4 align-center\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(announcement.description))]),_c('v-btn',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"color\":\"red accent-4\"},on:{\"click\":function($event){return _vm.deleteAnnouncement(announcement.id)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can\")])],1)],1)],1)],1)}),0)],1)],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"announcements\">\r\n    <v-container class=\"mt-4\">\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <h1>Announcements for teachers</h1>\r\n        </v-col>\r\n        <v-col cols=\"12\">\r\n          <v-card class=\"px-3 pb-1 pt-4\">\r\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n              <v-text-field\r\n                  hide-details=\"auto\"\r\n                  class=\"pb-2\"\r\n                  v-model=\"title\"\r\n                  :rules=\"rules\"\r\n                  label=\"Title\"\r\n                  placeholder=\"Title announcement input\"\r\n                  dense required outlined\r\n              ></v-text-field>\r\n              <v-text-field\r\n                  hide-details=\"auto\"\r\n                  class=\"pb-1\"\r\n                  v-model=\"description\"\r\n                  :rules=\"rules\"\r\n                  label=\"Description\"\r\n                  placeholder=\"Description announcement input\"\r\n                  dense required outlined\r\n              ></v-text-field>\r\n            </v-form>\r\n            <v-card-actions>\r\n              <v-btn outlined rounded color=\"indigo accent-4\" class=\"font-weight-bold pa-3\" @click=\"createNewAnnouncement\">Submit</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row class=\"mt-8\">\r\n        <v-col cols=\"12\">\r\n          <h1>Announcements confirmed</h1>\r\n        </v-col>\r\n        <v-col cols=\"12\">\r\n          <div v-for=\"announcement in announcements\" :key=\"announcement.id\">\r\n            <v-card class=\"mx-auto my-3 mx-2\" elevation=\"1\">\r\n              <v-card-title><v-icon class=\"mr-3\">mdi-human-queue</v-icon>\r\n                {{announcement.title}}</v-card-title>\r\n              <v-container class=\"d-flex justify-space-between pt-1 pb-3 px-4 align-center\">\r\n                <p class=\"mb-0\">{{announcement.description}}</p>\r\n                <v-btn outlined rounded color=\"red accent-4\" @click=\"deleteAnnouncement(announcement.id)\"><v-icon>mdi-trash-can</v-icon></v-btn>\r\n              </v-container>\r\n            </v-card>\r\n          </div>\r\n        </v-col>\r\n\r\n      </v-row>\r\n    </v-container>\r\n    <v-snackbar v-model=\"snackbar\" color=\"success\"  dark>\r\n      {{ text }}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport AnnouncementsService from '@/announcements/services/announcements.service';\r\n\r\nexport default {\r\n  name: \"announcements\",\r\n  data: () => ({\r\n    snackbar: false,\r\n    valid: true,\r\n    text: '',\r\n    color: '',\r\n    user: {},\r\n    announcements: [],\r\n    id: '',\r\n    title: '',\r\n    description: '',\r\n    directorId: null,\r\n    rules: [\r\n      value => !!value || 'Required.',\r\n      value => (value && value.length >= 3) || 'Min 3 characters',\r\n    ],\r\n  }),\r\n  created() {\r\n    this.refreshList()\r\n  },\r\n  methods: {\r\n    getDisplayAnnouncement(announcement){\r\n      return {\r\n        id: announcement.id,\r\n        title: announcement.title,\r\n        description: announcement.description,\r\n        directorId: announcement.directorId\r\n      };\r\n    },\r\n    refreshList (){\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      AnnouncementsService.getAllByID(user.id)\r\n          .then((response) => {\r\n            this.announcements = response.data.map(this.getDisplayAnnouncement);\r\n            console.log(response.data);\r\n          })\r\n    },\r\n    createNewAnnouncement () {\r\n\r\n      this.$refs.form.validate()\r\n      let val = this.$refs.form.validate();\r\n      if(val) {\r\n        this.user = JSON.parse(localStorage.getItem('user'))\r\n        const announcement = {\r\n          title: this.title,\r\n          description: this.description,\r\n          directorId: this.user.id\r\n        }\r\n        AnnouncementsService.create(announcement)\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              this.text = 'Create announcement correctly';\r\n              this.snackbar = true;\r\n              this.reset();\r\n              this.refreshList();\r\n            })\r\n      }\r\n    },\r\n    deleteAnnouncement(id){\r\n      AnnouncementsService.delete(id)\r\n          .then( () => {\r\n            this.text = 'Delete announcement correctly';\r\n            this.snackbar = true;\r\n            this.refreshList();\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          })\r\n    },\r\n    reset () {\r\n      this.$refs.form.reset()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announcements.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announcements.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./announcements.vue?vue&type=template&id=0af13b23&scoped=true&\"\nimport script from \"./announcements.vue?vue&type=script&lang=js&\"\nexport * from \"./announcements.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0af13b23\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VCol,VContainer,VForm,VIcon,VRow,VSnackbar,VTextField})\n","import http from '@/core/http-common'\r\nclass AnnouncementsService {\r\n    endpoint = '/announcements';\r\n    getAllByID(id){\r\n        return http.get(`directors/${id}${this.endpoint}`);\r\n    }\r\n\r\n    create(createAnnouncementDto){\r\n        return http.post(`${this.endpoint}`, createAnnouncementDto);\r\n    }\r\n\r\n    delete(id){\r\n        return http.delete(`${this.endpoint}/${id}`);\r\n    }\r\n}\r\n\r\nexport default new AnnouncementsService();","export default function authHeader() {\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    if (user && user.token) {\r\n        console.log(`Bearer ${user.token}`);\r\n        return {'Authorization': 'Bearer ' + user.token};\r\n    } else {\r\n        console.log(\"No token available\");\r\n        return {};\r\n    }\r\n}","import axios from \"axios\";\r\nimport authHeader from '@/services/auth-header'\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://appserviceasimov.azurewebsites.net/api/v1',\r\n    headers: authHeader()\r\n})"],"sourceRoot":""}